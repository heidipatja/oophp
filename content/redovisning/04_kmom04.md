---
---
Redovisning kmom04
=========================

Trait används för att utöka funktionaliteten av en klass. Istället för att lägga in samma funktioner i flera olika klasser kan man definiera traits som klasserna använder. Det verkar smidigt i och med att det minskar andelen kod som upprepas. Eftersom multipla arv inte verkar finnas i PHP blir det som ett alternativ till det. Interface fungerar lite som en kravlista. Den klass som vill använda ett interface måste innehålla de metoder som är definierade i interfacet. Den fördelen jag kan se är att det blir tydligt för den som vill använda ett interface vilken kod som förväntas av klassen. Vad det gäller både traits och interface skulle jag nog behöva testa dem mer och i fler sammanhang för att få en bättre känsla för dem, men jag känner att jag har fått grundläggande koll på hur de fungerar och kan användas. Det kan till och med vara så att traits får bli veckans TIL.

Jag var inte bekant med termen kontroller sedan tidigare. Ur testningssynpunkt verkar det vettigt att ha implementerat en kontroller eftersom det nu går att testa all kod. Det är ju trots allt kontrollern som håller ihop allt och man vill inte behöva testa den manuellt varje gång man gör en ändring.

Jag la ner ganska mycket tid på spelet under förra kursmomentet och hade redan byggt upp 100% kodtäckning, lagt in logik för datorspelarna och snyggat till gränssnittet, så jag ansåg mig ha uppfyllt de kraven/extrauppgifterna. Det finns förstås alltid utrymme för förbättringar och det hade varit kul att basera datorns beslut på histogrammet och antal tärningar man spelar med också, men jag valde för en gångs skull att inte trassla till det i onödan. Den logik jag implementerade under förra kursmomentet var att om datorn genom att spara uppnår minst 100 poäng, väljer den att spara. Om datorn eller den motspelare som har högst poäng har över 90 poäng, väljer datorn att slå i hopp om att vinna först. Annars gäller att datorn sparar om rundans summa är minst 25, annars slår den. Det fungerar lite olika bra beroende på antal tärningar man väljer, men jag har själv förlorat mot datorn rätt många gånger så i de flesta fall fungerar det bra.

Enhetstester med make test gick bra, förutom att jag hela tiden får felmeddelanden relaterat till cache. Det löses (tillfälligt) med make clean-cache, men är ändå lite småstörigt. Jag uppnådde 100% kodtäckning förra kursmomentet och lyckades behålla den siffran nu. Jag fick fundera lite på traits, men de gick att täcka in indirekt genom andra klasser som använde sig av traits. Precis som jag konstaterade förra kursmomentet innebär ju 100% kodtäckning inte automatiskt att man testat allt som behöver testas. En del tester är smartare än andra, men det är mest en fråga om tid just nu.
